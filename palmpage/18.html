<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ThePalmistryLife - 选择您的财富分析方案</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'brand': '#EBFF7F',
            'indigo-primary': '#4F46E5',
            'indigo-light': '#6366F1',
            'indigo-dark': '#3730A3',
          }
        }
      }
    }
  </script>
  <style>
    :root {
      --primary-color: #4F46E5;
      --primary-light: #6366F1;
      --primary-dark: #3730A3;
      --accent-color: #10B981;
      --accent-light: #34D399;
      --warning-color: #F59E0B;
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --border-color: #e2e8f0;
      --border-light: #f1f5f9;
      --text-primary: #1e293b;
      --text-secondary: #475569;
      --text-muted: #64748b;
      --shadow-light: rgba(0, 0, 0, 0.04);
      --shadow-medium: rgba(0, 0, 0, 0.08);
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg-secondary);
      color: var(--text-primary);
    }
    
    /* 简化背景 */
    .gradient-bg {
      background: var(--bg-secondary);
      min-height: 100vh;
    }
    
    /* 内容容器 */
    .content-overlay {
      background: var(--bg-primary);
      border-radius: 20px;
      margin: 16px;
      box-shadow: 0 4px 20px var(--shadow-light);
      border: 1px solid var(--border-light);
    }
    
    /* 价格卡片优化 */
    .price-card {
      transition: all 0.2s ease;
      border: 2px solid var(--border-color);
      background: var(--bg-primary);
      color: var(--text-secondary);
    }
    
    .price-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px var(--shadow-medium);
      border-color: var(--primary-light);
    }
    
    .price-card.selected {
      border: 2px solid var(--primary-color);
      background: #f0f4ff;
      color: var(--primary-dark);
      transform: translateY(-1px);
      box-shadow: 0 6px 24px rgba(79, 70, 229, 0.12);
    }
    
    /* 确保选中状态下文字颜色 */
    .price-card.selected .text-xl,
    .price-card.selected .text-lg {
      color: var(--primary-dark) !important;
    }
    
    .price-card.selected .text-sm {
      color: var(--primary-color) !important;
    }
    
    /* 推荐卡片 - 简化配色 */
    .recommended-card {
      background: var(--bg-tertiary);
      border: 2px solid var(--primary-color);
      color: var(--text-primary);
      position: relative;
    }
    
    .recommended-card.selected {
      background: #f0f4ff;
      border: 2px solid var(--primary-color);
      color: var(--primary-dark);
      box-shadow: 0 6px 24px rgba(79, 70, 229, 0.15);
    }
    
    .recommended-card.selected .crown-icon {
      color: var(--primary-color);
    }
    
    /* 皇冠图标 */
    .crown-icon {
      color: var(--primary-color);
    }
    
    /* 折叠内容 */
    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    
    .collapsible-content.expanded {
      max-height: 600px;
    }
    
    /* CTA按钮 - 统一 Indigo 配色 */
    .cta-button {
      background: var(--primary-color);
      transition: all 0.3s ease;
      color: white;
    }
    
    .cta-button:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }
    
    .cta-button:disabled {
      background: var(--text-muted);
      cursor: not-allowed;
      transform: none;
    }
    
    /* 移除所有动画，只保留必要的过渡效果 */
    .mystical-glow {
      position: relative;
    }
    
    /* 简化投资徽章 */
    .investment-badge {
      background: var(--accent-color);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      display: inline-block;
    }
  </style>
</head>
<body class="gradient-bg min-h-screen flex justify-center">
  <div class="w-[390px] mx-auto">
  <!-- 顶部导航 -->
  <div class="flex items-center justify-between p-4 relative z-10">
    <button onclick="history.back()" class="text-slate-600 hover:text-indigo-600 transition-colors">
      <img src="img/arrow.svg" alt="arrow" class="w-6 h-6" />
    </button>
    <div class="text-2xl"><img src="img/logo.svg" height="50px" width="50px"></div>
    <div class="w-6"></div>
  </div>

  <!-- 主要内容容器 -->
  <div class="content-overlay">
    <div class="p-6 pb-8">
      <!-- 标题区域 -->
      <div class="text-center mb-8">
        <div class="mystical-glow inline-block p-1 rounded-2xl mb-4">
          <h1 class="text-2xl font-bold text-indigo-600 bg-white rounded-xl px-4 py-2 leading-tight">
            生命密码解析
          </h1>
        </div>
        <p class="text-lg text-slate-700 font-medium mb-2 leading-relaxed px-2">
          🔮 <span class="font-medium text-indigo-600">生命轨迹</span> • <span class="font-medium text-emerald-600">情感密码</span> • <span class="font-medium text-amber-600">财富磁场</span><br/>
          专业掌纹分析，揭示您的人生密码
        </p>
        <div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mx-4 mb-3">
          <p class="text-sm text-amber-700 font-medium">
            ⚠️ 限时分析，错过需要重新排队
          </p>
        </div>
        <div class="inline-block bg-emerald-500 text-white px-3 py-1 rounded-full text-sm font-medium">
          🔔 已有 1,247 人获得分析报告
        </div>
      </div>

      <!-- 价格选择器 -->
      <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-6">
        <div class="text-center mb-4">
          <h2 class="text-lg font-bold text-slate-800 mb-2">选择适合您的价格</h2>
          <p class="text-sm text-slate-600">所有选项获得相同的完整生命密码报告</p>
        </div>
        
        <div class="grid grid-cols-4 gap-2 mb-6">
          <!-- 1美元选项 -->
          <button class="price-card group flex flex-col items-center py-3 rounded-xl border-2 border-transparent bg-white shadow hover:border-indigo-400 transition" onclick="selectPrice(1, this)">
            <div class="w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-1">
              <span class="text-lg">🌱</span>
            </div>
            <div class="text-sm font-bold text-slate-800">$1</div>
            <div class="text-xs text-slate-600">学生价</div>
          </button>
          
          <!-- 5美元选项 -->
          <button class="price-card group flex flex-col items-center py-3 rounded-xl border-2 border-transparent bg-white shadow hover:border-indigo-400 transition" onclick="selectPrice(5, this)">
            <div class="w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-1">
              <span class="text-lg">🔍</span>
            </div>
            <div class="text-sm font-bold text-slate-800">$5</div>
            <div class="text-xs text-slate-600">标准价</div>
          </button>
          
          <!-- 9美元选项 - 支持价 -->
          <button class="price-card group flex flex-col items-center py-3 rounded-xl border-2 border-transparent bg-white shadow hover:border-indigo-400 transition relative" onclick="selectPrice(9, this)">
            <div class="absolute -top-1 -right-1 bg-emerald-500 text-white text-xs px-1 rounded-full">支持</div>
            <div class="w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-1">
              <span class="text-lg">✨</span>
            </div>
            <div class="text-sm font-bold text-slate-800">$9</div>
            <div class="text-xs text-emerald-600">支持价</div>
          </button>
          
          <!-- 16.37美元选项 - 成本价 -->
          <button class="price-card recommended-card group flex flex-col items-center py-3 rounded-xl border-2 border-indigo-600 bg-slate-50 shadow transition selected relative" onclick="selectPrice(16.37, this)">
            <div class="absolute -top-1 -right-1 bg-indigo-600 text-white text-xs px-1 rounded-full">推荐</div>
            <div class="w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-1">
              <span class="text-lg">👑</span>
            </div>
            <div class="text-sm font-bold text-indigo-800">$16.37</div>
            <div class="text-xs text-indigo-600">成本价</div>
          </button>
        </div>
        
        <!-- 箭头指向推荐选项 -->
        <div class="relative -mt-2 mb-4">
          <div class="absolute left-[87.5%] transform -translate-x-1/2 flex flex-col items-center">
            <img src="img/arrow.svg" alt="arrow" class="w-4 h-4 text-indigo-600 rotate-180" />
            <p class="text-xs text-indigo-600 font-medium mt-1 whitespace-nowrap">推荐</p>
          </div>
        </div>
        
        <!-- 按能力付费说明 -->
        <div class="bg-slate-50 border border-slate-200 rounded-lg p-4 mb-6">
          <div class="text-center">
            <p class="text-sm text-slate-700 mb-2">
              💝 <span class="font-semibold text-indigo-600">按能力付费</span> 的理念
            </p>
            <p class="text-xs text-slate-600 leading-relaxed">
              我们相信每个人都应该有机会获得生命指引。<br/>
              选择 <span class="font-medium text-emerald-600">支持价</span> 或 <span class="font-medium text-indigo-600">成本价</span> 的朋友，让我们能够为更多人提供这项服务 🌟
            </p>
          </div>
        </div>
        
        <!-- 推荐说明 -->
        <div class="bg-slate-50 rounded-xl p-4 mb-4 border border-slate-200">
          <div class="flex items-center justify-center text-sm text-slate-700 mb-2">
            <span class="mr-2">🌟</span>
            <span class="font-medium">成本价 $16.37 是我们的实际运营成本</span>
          </div>
        </div>
      </div>

      <!-- CTA按钮 -->
      <button class="cta-button w-full py-5 rounded-2xl text-white font-bold text-lg mb-6" onclick="handlePayment()">
        <span>解锁生命密码</span>
      </button>

      <!-- 价值说明 -->
      <div class="text-center text-sm text-slate-600 mb-6">
        <div class="bg-white rounded-xl p-4 shadow-sm border border-slate-200">
          <div class="flex items-center justify-center gap-2 mb-2">
            <span class="text-indigo-500">🎁</span>
            <span class="font-medium text-slate-700">获取专属生命密码报告</span>
          </div>
          <div class="text-xs text-slate-500">
            + 免费试用 <span class="font-bold text-indigo-600">AI助手 7天</span> 完整功能
          </div>
        </div>
      </div>

      <!-- 折叠式详细说明 -->
      <div class="bg-white rounded-xl p-5 shadow-sm border border-slate-200">
        <button class="w-full flex items-center justify-between text-left" onclick="toggleDetails()">
          <span class="font-medium text-slate-800 flex items-center gap-2">
            <span class="text-indigo-500">🔮</span>
            <span>了解更多详情</span>
          </span>
          <img id="detailsIcon" src="img/arrow.svg" alt="arrow" class="w-5 h-5 text-slate-500 transform transition-transform" />
        </button>
        
        <div id="detailsContent" class="collapsible-content mt-4">
          <div class="space-y-4">
            <p class="text-sm text-slate-600 leading-relaxed">
              我们已经帮助数百万人发现他们的内在智慧和生命密码，现在轮到您开启这段觉醒之旅。
            </p>
            
            <div class="bg-slate-50 rounded-lg p-4 border border-slate-200">
              <h3 class="font-bold text-slate-800 mb-2 flex items-center gap-2">
                <span>💰</span>
                <span>透明定价</span>
              </h3>
              <p class="text-sm text-slate-700 leading-relaxed">
                虽然我们的实际运营成本为 <span class="text-indigo-600 font-bold">$16.37</span>，但我们提供多种价格选择。选择您认为合适的投资金额。
              </p>
            </div>
            
            <!-- 服务特色 -->
            <div class="bg-slate-50 rounded-lg p-4 border border-slate-200">
              <h4 class="font-bold text-slate-800 mb-3 flex items-center gap-2">
                <span>🌟</span>
                <span>服务特色</span>
              </h4>
              <div class="space-y-2 text-sm text-slate-700">
                <div class="flex items-start gap-3">
                  <span class="text-indigo-500 mt-0.5">•</span>
                  <span>AI智能算法深度分析</span>
                </div>
                <div class="flex items-start gap-3">
                  <span class="text-indigo-500 mt-0.5">•</span>
                  <span>24小时内生成详细报告</span>
                </div>
                <div class="flex items-start gap-3">
                  <span class="text-indigo-500 mt-0.5">•</span>
                  <span>终身免费报告查看</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 地理位置显示 -->
  

  <script>
    let selectedPrice = 16.37; // 默认选择慈善家选项
    
    function selectPrice(price, element) {
      selectedPrice = price;
      
      // 重置所有价格卡片
      document.querySelectorAll('.price-card').forEach(card => {
        card.classList.remove('selected');
        // 重置慈善家卡片的特殊样式
        if (card.classList.contains('philanthropist-card')) {
          card.classList.remove('philanthropist-selected');
        }
      });
      
      // 选中当前卡片
      element.classList.add('selected');
      
      // 如果选择的是成本价选项，添加特殊效果
      if (price === 16.37) {
        element.classList.add('philanthropist-selected');
      }
      
      updateCTAButton();
      
      // 添加选择反馈
      showSelectionFeedback(price);
    }
    
    function showSelectionFeedback(price) {
      const feedbacks = {
        1: "🌱 学生价选择！感谢您的参与",
        5: "🔍 标准价选择！感谢您的支持", 
        9: "✨ 支持价选择！您的支持帮助更多人获得服务",
        16.37: "👑 成本价选择！感谢您按成本价支持我们的服务！"
      };
      
      // 创建临时反馈元素
      const feedback = document.createElement('div');
      feedback.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-indigo-600 text-white px-6 py-3 rounded-xl shadow-xl z-50 text-sm font-medium';
      feedback.style.animation = 'fadeInOut 2s ease-in-out';
      feedback.textContent = feedbacks[price];
      
      document.body.appendChild(feedback);
      
      setTimeout(() => {
        document.body.removeChild(feedback);
      }, 2000);
    }
    
    function updateCTAButton() {
      const button = document.querySelector('.cta-button span');
      const ctaButton = document.querySelector('.cta-button');
      
      if (selectedPrice > 0) {
        ctaButton.disabled = false;
        button.textContent = '解锁生命密码';
        ctaButton.classList.remove('bg-indigo-400');
        ctaButton.classList.add('bg-indigo-600');
      } else {
        ctaButton.disabled = true;
        button.textContent = '解锁生命密码';
        ctaButton.classList.remove('bg-indigo-600');
        ctaButton.classList.add('bg-indigo-400');
      }
      
      // 为慈善家选项添加特殊按钮效果
      if (selectedPrice === 16.37) {
        ctaButton.classList.add('cta-premium');
      } else {
        ctaButton.classList.remove('cta-premium');
      }
    }
    
    function toggleDetails() {
      const content = document.getElementById('detailsContent');
      const icon = document.getElementById('detailsIcon');
      
      if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        content.style.maxHeight = '0px';
        icon.style.transform = 'rotate(0deg)';
      } else {
        content.style.maxHeight = content.scrollHeight + 'px';
        icon.style.transform = 'rotate(180deg)';
      }
    }
    
    function handlePayment() {
      // 投资心理强化
      const investmentMessages = {
        1: "感谢您的选择！正在为您准备专属分析报告...",
        5: "感谢您的选择！正在为您准备专属分析报告...",
        9: "感谢您的支持！您的选择帮助我们为更多人提供服务...",
        16.37: "感谢您按成本价支持我们！让我们能够持续为更多人提供优质服务！"
      };
      
      // 显示投资确认信息
      const confirmMessage = investmentMessages[selectedPrice];
      
      // 创建确认弹窗
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
      modal.innerHTML = `
        <div class="bg-white rounded-2xl p-6 max-w-sm w-full text-center mystical-glow">
          <div class="text-4xl mb-4">${selectedPrice === 16.37 ? '👑' : selectedPrice === 9 ? '✨' : selectedPrice === 5 ? '🔍' : '🌱'}</div>
          <h3 class="text-lg font-bold text-indigo-600 mb-3">支付确认</h3>
          <p class="text-sm text-gray-600 mb-4 leading-relaxed">${confirmMessage}</p>
          <div class="text-2xl font-bold text-indigo-600 mb-4">$${selectedPrice}</div>
          <div class="flex gap-3">
            <button onclick="this.closest('.fixed').remove()" class="flex-1 py-2 px-4 bg-gray-200 text-gray-700 rounded-lg font-medium">
              重新选择
            </button>
            <button onclick="proceedToPayment()" class="flex-1 py-2 px-4 bg-indigo-600 text-white rounded-lg font-medium">
              确认支付
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      console.log(`Investment level selected: $${selectedPrice}`);
    }
    
    function proceedToPayment() {
      // 移除确认弹窗
      document.querySelector('.fixed.inset-0').remove();
      
      // 显示支付处理中
      const processing = document.createElement('div');
      processing.className = 'fixed inset-0 bg-indigo-900 bg-opacity-90 flex items-center justify-center z-50';
      processing.innerHTML = `
        <div class="text-center text-white">
          <div class="text-6xl mb-4">🔮</div>
          <div class="text-xl font-bold mb-2">正在处理您的支付...</div>
          <div class="text-sm opacity-80">请稍候，即将跳转到支付页面</div>
          <div class="mt-4">
            <div class="w-48 h-2 bg-indigo-800 rounded-full mx-auto overflow-hidden">
              <div class="h-full bg-indigo-400 rounded-full" style="width: 100%; animation: progressBar 3s ease-in-out;"></div>
            </div>
          </div>
        </div>
      `;
      
      document.body.appendChild(processing);
      
      // 3秒后跳转到支付页面
      setTimeout(() => {
        window.location.href = `payment.html?amount=${selectedPrice}&type=life-code-investment`;
      }, 3000);
      
      console.log(`Proceeding to payment: $${selectedPrice}`);
    }
    
    // 页面加载完成后的初始化
    document.addEventListener('DOMContentLoaded', function() {
      updateCTAButton();
    });
    
    // 添加必要的CSS动画关键帧
    const style = document.createElement('style');
    style.textContent = `
      @keyframes progressBar {
        0% { width: 0%; }
        100% { width: 100%; }
      }
    `;
    document.head.appendChild(style);
  </script>
  </div>
</body>
</html>